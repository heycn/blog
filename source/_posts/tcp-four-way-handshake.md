---
title: 浅析「TCP 三次握手、四次挥手」
date: 2021-11-27 1:12:04
tags:
top:
---

此文章仅是表面层解释 三次握手、四次挥手，并不深入！

## 三次握手

> 建立 TCP 连接时，服务器(server) 与 客户端(client) 会经历的过程\
> 三次握手是为了保证建立起一个 安全 可靠 的连接

- 第一次握手：服务器 属于关闭状态，客户端 主动向 服务器 发送一个报文(SYN)，`想与服务端建立起一个新的连接`，并且等待服务器确认
- 第二次握手：服务器 接收 客户端 发来的 报文，确认客户端的 报文，并且把 `消息确认包 发送给客户端`，但是服务端此时不知道服务端向客户端发送的消息能不能收到
- 第三次握手：客户端收到 消息确认包 之后，需要 `继续给服务端一个消息包`，并且建立起连接

## 四次挥手

> 关闭 TCP 连接时，服务器(server) 与 客户端(client) 会经历的过程\
> 四次挥手是为了确保连接安全的断开

- 第一次挥手：`客户端想要与服务端断开连接`，客户端 向 服务端发送一个报文，表示想要与服务端断开连接
- 第二次挥手：服务端收到报文之后，知道客户端想要与客户端断开连接，但是此时 `服务端可能还有剩下的一些数据没有传输`，服务端向客户端发送 确认消息包，告诉 客户端 已确认但是还有剩下的数据没传完，我传完之后再告诉你
- 第三次挥手：服务端做好与客户端的准备之后，服务端发送一个断开连接的报文给客户端，表示 `服务端已经做好断开链接的准备`
- 第四次挥手：客户端收到 服务端发来的报文之后，需要发送一个 消息确认的报文 给服务端，`表示断开连接`

## TCP 是什么

- 全称是：传输内容协议
- TCP 属于传输层，HTTP 属于应用层
- 传输层建立端到端的链接
- 例如：我访问 baidu.com，TCP 就是模拟了我和 baidu.com 之间的车道，这个车道可以传输数据

感谢阅读，下次见 :)
